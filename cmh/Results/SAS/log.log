
1          libname cd '/var/swan/root/bhc/general/playground/cdisc_pilot/dev/data/adam/';
NOTE: Libref CD was successfully assigned as follows: Engine:        V9 Physical Name: /var/swan/root/bhc/general/playground/cdisc_pilot/dev/data/adam
2          
3          * create base data;
4          data base;
5          
6              set cd.adcibc (rename=(aval=temp_aval));
7              where avisitn = 8 and efffl = 'Y' and ittfl = 'Y' and anl01fl = 'Y';
8              aval = put(temp_aval, 1.);
9          RUN;

NOTE: There were 231 observations read from the data set CD.ADCIBC.
      WHERE (avisitn=8) and (efffl='Y') and (ittfl='Y') and (anl01fl='Y');
NOTE: The data set WORK.BASE has 231 observations and 37 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

10         
11         * schema data sets;
12         data s1;
13         
14             set base;
15             where trtp in ('Placebo' 'Xanomeline Low Dose') and agegr1 in ('65-80' '>80');
16             rename agegr1 = k trtp = x sex = y;
17             schema = 1;
18         RUN;

NOTE: There were 139 observations read from the data set WORK.BASE.
      WHERE trtp in ('Placebo', 'Xanomeline Low Dose') and agegr1 in ('65-80', '>80');
NOTE: The data set WORK.S1 has 139 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

19         
20         data s2;
21         
22             set base;
23             where RACE ne "AMERICAN INDIAN OR ALASKA NATIVE" and TRTP ne "Xanomeline High Dose";
24             rename race = k sex = y trtp = x;
25             schema = 2;
26         RUN;

NOTE: There were 158 observations read from the data set WORK.BASE.
      WHERE (RACE not = 'AMERICAN INDIAN OR ALASKA NATIVE') and (TRTP not = 'Xanomeline High Dose');
NOTE: The data set WORK.S2 has 158 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

27         
28         data s3;
29         
30             set base;
31             rename race = k sex = y trtp = x;
32             schema = 3;
33         RUN;

NOTE: There were 231 observations read from the data set WORK.BASE.
NOTE: The data set WORK.S3 has 231 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

34         
35         data s4;
36         
37              set base;
38              where TRTP ne "Xanomeline High Dose";
39              rename trtp = x sex = y siteid = k;
40              schema = 4;
41         RUN;

NOTE: There were 158 observations read from the data set WORK.BASE.
      WHERE TRTP not = 'Xanomeline High Dose';
NOTE: The data set WORK.S4 has 158 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.02 seconds
      

42         
43         data s5;
44         
45              set base;
46              rename trtp = x sex = y siteid = k;
47              schema = 5;
48         RUN;

NOTE: There were 231 observations read from the data set WORK.BASE.
NOTE: The data set WORK.S5 has 231 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

49         
50         data s6;
51         
52              set base;
53              where TRTP ne "Xanomeline High Dose";
54              rename trtp = x sex = y aval = k;
55              schema = 6;
56         RUN;

NOTE: There were 158 observations read from the data set WORK.BASE.
      WHERE TRTP not = 'Xanomeline High Dose';
NOTE: The data set WORK.S6 has 158 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

57         
58         data s7;
59         
60              set base;
61              rename trtp = x race = k aval = y;
62               schema = 7;
63         RUN;

NOTE: There were 231 observations read from the data set WORK.BASE.
NOTE: The data set WORK.S7 has 231 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.02 seconds
      

64         
65         data s8;
66         
67              set base;
68              rename trtp = x AGEGR1 = k aval = y;
69               schema = 8;
70         RUN;

NOTE: There were 231 observations read from the data set WORK.BASE.
NOTE: The data set WORK.S8 has 231 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

71         
72         data s9;
73         
74              set base;
75              rename trtp = x siteid = k aval = y;
76               schema = 9;
77         RUN;

NOTE: There were 231 observations read from the data set WORK.BASE.
NOTE: The data set WORK.S9 has 231 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

78         
79         data s10;
80         
81              set base;
82              rename aval = x TRTP = k AGEGR1 = y;
83              schema = 10;
84         RUN;

NOTE: There were 231 observations read from the data set WORK.BASE.
NOTE: The data set WORK.S10 has 231 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

85         
86         * set all data together;
87         data all_schemas;
88         
89             length x $100. y $100. k $100.;
90             set s:;
91             keep schema x y k;
92         RUN;

NOTE: There were 139 observations read from the data set WORK.S1.
NOTE: There were 231 observations read from the data set WORK.S10.
NOTE: There were 158 observations read from the data set WORK.S2.
NOTE: There were 231 observations read from the data set WORK.S3.
NOTE: There were 158 observations read from the data set WORK.S4.
NOTE: There were 231 observations read from the data set WORK.S5.
NOTE: There were 158 observations read from the data set WORK.S6.
NOTE: There were 231 observations read from the data set WORK.S7.
NOTE: There were 231 observations read from the data set WORK.S8.
NOTE: There were 231 observations read from the data set WORK.S9.
NOTE: The data set WORK.ALL_SCHEMAS has 1999 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

93         
94         proc sort data = all_schemas;
95         
96             by schema;
97         RUN;

NOTE: There were 1999 observations read from the data set WORK.ALL_SCHEMAS.
NOTE: The data set WORK.ALL_SCHEMAS has 1999 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

98         
99         
100        * analysis;
101        proc freq data = all_schemas;
102        
103            by schema;
104            tables k * x * y/ cmh;
105            output out = all_results cmh;
106        RUN;

NOTE: There were 1999 observations read from the data set WORK.ALL_SCHEMAS.
NOTE: The data set WORK.ALL_RESULTS has 10 observations and 33 variables.
NOTE: The PROCEDURE FREQ printed pages 452-521.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

107        
108        * process the output;
109        proc transpose data = all_results out = all_long;
110        
111            by schema;
112        run;

NOTE: There were 10 observations read from the data set WORK.ALL_RESULTS.
NOTE: The data set WORK.ALL_LONG has 310 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

113        
114        * identify what we do want;
115        data all_long2;
116        
117            set all_long;
118            where _label_ in ('CMH Nonzero Correlation' 'DF for CMH Nonzero Correlation' 'P-value for CMH Nonzero Correlation'
119                              'CMH Row Mean Scores Differ' 'DF for CMH Row Mean Scores Differ' 'P-value for CMH Row Mean Scores
119      ! Differ'
120                              'CMH General Association' 'DF for CMH General Association' 'P-value for CMH General Association'
121                              'Mantel-Haenszel Adjusted Odds Ratio' 'Lower CL, MH Adjusted Odds Ratio' 'Upper CL, MH Adjusted
121      ! Odds Ratio'
122                              'Breslow-Day Chi-Square' 'DF for Breslow-Day Chi-Square' 'P-value for Breslow-Day Chi-Square'
123                             );
124        RUN;

NOTE: There were 150 observations read from the data set WORK.ALL_LONG.
      WHERE _label_ in ('Breslow-Day Chi-Square', 'CMH General Association', 'CMH Nonzero Correlation', 'CMH Row Mean Scores 
      Differ', 'DF for Breslow-Day Chi-Square', 'DF for CMH General Association', 'DF for CMH Nonzero Correlation', 'DF for CMH Row 
      Mean Scores Differ', 'Lower CL, MH Adjusted Odds Ratio', 'Mantel-Haenszel Adjusted Odds Ratio', 'P-value for Breslow-Day 
      Chi-Square', 'P-value for CMH General Association', 'P-value for CMH Nonzero Correlation', 'P-value for CMH Row Mean Scores 
      Differ', 'Upper CL, MH Adjusted Odds Ratio');
NOTE: The data set WORK.ALL_LONG2 has 150 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

125        
126        * make identifying what we want a bit easier;
127        data all_long3;
128        
129            length type $100.;
130            set all_long2;
131        
132            if index(_label_, "Nonzero") then hypothesis = "Non-zero Correlation";
133        
134            else if index(_label_, "Row Mean") then hypothesis = "Row Mean Scores Differ";
135            else if index(_label_, "General Association") then hypothesis = "General Association";
136        
137            if index(_label_, "P-value") then  Type = "Prob";
138        
139            if index(_label_, "DF") then type = "DF";
140        
141            if _label_ = "Mantel-Haenszel Adjusted Odds Ratio" then type = 'MH OR';
142        
143            if _label_ = "Lower CL, MH Adjusted Odds Ratio" then type = "MH OR LL";
144            if _label_ = "Upper CL, MH Adjusted Odds Ratio" then type = "MH OR UL";
145        
146            if _label_ =  'Breslow-Day Chi-Square' then type = "HChisq";
147        
148            if _label_ =  'DF for Breslow-Day Chi-Square' then type = "HDF";
149            if _label_ = 'P-value for Breslow-Day Chi-Square' then type = "HP-value" ;
150        RUN;

NOTE: There were 150 observations read from the data set WORK.ALL_LONG2.
NOTE: The data set WORK.ALL_LONG3 has 150 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

151        
152        *Parse out results related to the 3 HAs;
153        data part1;
154        
155            set all_long3 (where=(substr(type,1,1) not in ('H','M')));
156            if missing(hypothesis)=0;
157            if missing(type)=1 then type="Chisq";
158            keep schema hypothesis type col1;
159        RUN;

NOTE: There were 90 observations read from the data set WORK.ALL_LONG3.
      WHERE SUBSTR(type, 1, 1) not in ('H', 'M');
NOTE: The data set WORK.PART1 has 90 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

160        
161        proc sort data = part1;
162        
163            by schema hypothesis;
164        RUN;

NOTE: There were 90 observations read from the data set WORK.PART1.
NOTE: The data set WORK.PART1 has 90 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

165        
166        proc transpose data = part1 out = result_part1 (drop = _name_);
167        
168            by schema hypothesis;
169            id type;
170            var col1;
171        run;

NOTE: There were 90 observations read from the data set WORK.PART1.
NOTE: The data set WORK.RESULT_PART1 has 30 observations and 5 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

172        
173        *Parse out results related to the MH OR, homogeneity test;
174        data part2;
175        
176            set all_long3;
177            where substr(type,1,1) in ('M','H');
178            keep schema type col1;
179        RUN;

NOTE: There were 60 observations read from the data set WORK.ALL_LONG3.
      WHERE SUBSTR(type, 1, 1) in ('H', 'M');
NOTE: The data set WORK.PART2 has 60 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

180        
181        proc transpose data = part2 out = result_part2 (drop = _name_);
182        
183             by schema;
184             id type;
185             var col1;
186        run;

NOTE: There were 60 observations read from the data set WORK.PART2.
NOTE: The data set WORK.RESULT_PART2 has 10 observations and 7 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

187        
188        libname out '/home/ggdzn';
NOTE: Libref OUT refers to the same physical library as GGDZN.
NOTE: Libref OUT was successfully assigned as follows: Engine:        V9 Physical Name: /home/ggdzn
189        
190        
191        data out.result_part1;
192        
193            set result_part1;
194        run;

NOTE: There were 30 observations read from the data set WORK.RESULT_PART1.
NOTE: The data set OUT.RESULT_PART1 has 30 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

195        
196        data out.result_part2;
197        
198            set result_part2;
199        run;

NOTE: There were 10 observations read from the data set WORK.RESULT_PART2.
NOTE: The data set OUT.RESULT_PART2 has 10 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

